<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>LeBron James ‚Äî Ultimate Fan Hub (Modern Sleek)</title>
<style>
:root{
  --bg:#060416;
  --panel:#0f0820;
  --accent:#f2c94c;
  --accent-deep:#c8942a;
  --muted:#bfb8c6;
  --glow: 0 12px 48px rgba(91,42,122,0.06);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:
    radial-gradient(1000px 500px at 14% 12%, rgba(91,42,122,0.06), transparent 10%),
    radial-gradient(800px 420px at 86% 88%, rgba(242,201,76,0.03), transparent 10%),
    linear-gradient(180deg, var(--bg) 0%, #060216 100%);
  color:#fff;
  font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
  -webkit-font-smoothing:antialiased;
  overflow:hidden;
}

/* Header */
.header-wrap{
  position:fixed;top:14px;left:50%;transform:translateX(-50%);
  z-index:1200;width:min(1150px,96%);display:flex;justify-content:space-between;align-items:center;
  gap:12px;padding:10px 14px;border-radius:999px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.03);
  box-shadow:var(--glow);
}
.brand{display:flex;gap:10px;align-items:center}
.brand .crown{font-size:20px}
.brand .name{font-weight:800;color:var(--accent);letter-spacing:.6px}
.nav{display:flex;gap:8px;align-items:center}
.nav a{
  color:var(--muted);text-decoration:none;padding:8px 12px;border-radius:10px;font-weight:800;font-size:13px;
  transition:all .28s cubic-bezier(.2,.9,.25,1);display:inline-flex;align-items:center;gap:8px;
}
.nav a.active,.nav a:hover{
  color:#1b0632;background:linear-gradient(90deg,var(--accent),var(--accent-deep));transform:translateY(-3px);box-shadow:0 10px 30px rgba(242,201,76,0.12);
}

/* container with panels */
.container{
  position:fixed;top:74px;left:50%;transform:translateX(-50%);width:min(1150px,96%);bottom:18px;
  border-radius:18px;padding:10px;overflow:hidden;background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(255,255,255,0.005));
  box-shadow:0 30px 80px rgba(0,0,0,0.6);
}
.panel{
  position:absolute;inset:12px;border-radius:12px;padding:28px;overflow:auto;background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(255,255,255,0.005));
  display:none;opacity:0;transform:translateX(36px) scale(.995);transition:all 520ms cubic-bezier(.2,.9,.22,1);
}
.panel.active{display:block;opacity:1;transform:translateX(0) scale(1)}

/* headings */
.h-hero{display:flex;gap:18px;align-items:center}
.h-hero img{height:120px;border-radius:12px;box-shadow:0 18px 60px rgba(0,0,0,0.6)}
.title{font-size:28px;color:var(--accent);text-shadow:0 6px 28px rgba(242,201,76,0.08)}
.subtitle{color:var(--muted);margin-top:6px;max-width:720px;line-height:1.45}

/* grid & card */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:14px;margin-top:18px}
.card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:14px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 8px 34px rgba(0,0,0,0.55)}
.small{font-size:13px;color:var(--muted)}

/* slot machine style numbers */
.slot{height:44px;width:96px;overflow:hidden;position:relative;background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(255,255,255,0.005));padding:6px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);text-align:right;font-weight:900;font-family:monospace}
.strip{position:absolute;left:6px;right:6px;top:0;bottom:0;display:flex;flex-direction:column;justify-content:flex-start;transition:transform 900ms cubic-bezier(.2,.9,.22,1);will-change:transform}
.strip div{height:44px;display:flex;align-items:center;justify-content:flex-end;padding-right:6px;color:#fff;font-size:18px}

/* achievements */
.ach-grid{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:8px}
.achievement-card{padding:14px;border-radius:10px;background:linear-gradient(180deg,#241033,#1b1236);display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;transition:transform .35s,box-shadow .35s}
.achievement-card:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 18px 60px rgba(242,201,76,0.18)}

/* gallery */
.gallery{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
.gallery img{height:120px;border-radius:8px;object-fit:cover;box-shadow:0 12px 40px rgba(0,0,0,0.6);cursor:pointer;transition:transform .25s}
.gallery img:hover{transform:translateY(-6px)}

/* mini game */
.hoop-area{width:360px;height:320px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);border:1px solid rgba(255,255,255,0.02);position:relative;margin:18px auto}
.hoop{position:absolute;top:38px;left:50%;transform:translateX(-50%);width:140px;height:18px;border-radius:10px;background:linear-gradient(90deg,var(--accent),var(--accent-deep));box-shadow:0 8px 36px rgba(242,201,76,0.12)}
.ball{position:absolute;width:52px;height:52px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:22px;background:radial-gradient(circle at 30% 30%,#ff8a00,#d94800);box-shadow:0 12px 34px rgba(0,0,0,0.6);cursor:grab;touch-action:none}
.scoreboard{position:absolute;right:18px;top:18px;background:rgba(0,0,0,0.35);padding:8px 12px;border-radius:8px;font-weight:800;color:var(--accent)}

/* confetti */
.confetti-piece{position:absolute;width:10px;height:8px;border-radius:2px;opacity:0}

/* lightbox */
#lightbox{position:fixed;inset:0;background:rgba(0,0,0,0.85);display:none;align-items:center;justify-content:center;z-index:1400}
#lightbox img{max-width:92%;max-height:86%;border-radius:8px;box-shadow:0 20px 80px rgba(0,0,0,0.9)}

/* responsive */
@media (max-width:780px){
  .header-wrap{width:96%}
  .h-hero img{height:86px}
  .slot{width:70px;height:36px}
  .strip div{height:36px;font-size:16px}
  .hoop-area{width:300px;height:260px}
}
</style>
</head>
<body>
  <div class="header-wrap" role="banner">
    <div class="brand" aria-hidden="false">
      <div class="crown">üëë</div>
      <div class="name">LeBron ‚Äî The King Fan Hub</div>
    </div>
    <nav class="nav" role="navigation" aria-label="Main nav">
      <a href="#home" class="nav-link active">Home</a>
      <a href="#bio" class="nav-link">Bio</a>
      <a href="#career" class="nav-link">Career</a>
      <a href="#achievements" class="nav-link">Achievements</a>
      <a href="#gallery" class="nav-link">Gallery</a>
      <a href="#game" class="nav-link">Mini-Game</a>
    </nav>
  </div>

  <main class="container" role="main" aria-live="polite">
    <!-- HOME -->
    <section id="home" class="panel active" aria-labelledby="home-title">
      <div class="h-hero">
        <img src="images/lebron_2010.png" alt="LeBron portrait" onerror="this.style.opacity=.12">
        <div>
          <div id="home-title" class="title">LeBron James ‚Äî The King üëë</div>
          <div class="subtitle">Modern sleek fan hub ‚Äî verified season stats (2003‚Äì2024), animated achievements, gallery and an interactive mini-game. Drop your images into <code>/images</code> and the achievement sound into <code>/sounds/achievement.mp3</code>.</div>
          <div style="margin-top:12px" class="row">
            <div class="card small">Born: December 30, 1984 ‚Äî Akron, OH</div>
            <div class="card small">Team: Los Angeles Lakers</div>
            <div class="card small">Position: Forward</div>
          </div>
        </div>
      </div>
    </section>

    <!-- BIO -->
    <section id="bio" class="panel" aria-labelledby="bio-title">
      <h2 id="bio-title">üìñ Bio</h2>
      <div style="max-width:920px;color:var(--muted);line-height:1.6">
        <p><strong>LeBron Raymone James</strong> rose from Akron, Ohio to become one of basketball's most decorated players. This fan hub chronicles his seasons, achievements, and iconic moments spanning Cleveland, Miami and the Lakers.</p>
        <p>Use the Career panel for a dramatic per-season slot animation. Click any season tile to roll the stat slot and highlight that year.</p>
      </div>
    </section>

    <!-- CAREER -->
    <section id="career" class="panel" aria-labelledby="career-title">
      <h2 id="career-title">üìä Career Stats (2003‚Äì2024)</h2>
      <div class="small" style="color:var(--muted)">Click a season card to animate its rolling stats. First few seasons auto-roll on load for drama.</div>
      <div class="grid" id="statsGrid" aria-live="polite"></div>
    </section>

    <!-- ACHIEVEMENTS -->
    <section id="achievements" class="panel" aria-labelledby="ach-title">
      <h2 id="ach-title">üèÜ Achievements</h2>
      <div class="ach-grid" id="achGrid">
        <div class="achievement-card card" data-ach="champion"><div style="font-size:22px">üèÜ 4√ó NBA Champion</div><div class="small">2012, 2013, 2016, 2020</div></div>
        <div class="achievement-card card" data-ach="mvp"><div style="font-size:22px">‚≠ê 4√ó NBA MVP</div><div class="small">2009, 2010, 2012, 2013</div></div>
        <div class="achievement-card card" data-ach="allstar"><div style="font-size:22px">üî• 19√ó All-Star</div><div class="small">Career-long excellence</div></div>
        <div class="achievement-card card" data-ach="olympic"><div style="font-size:22px">üá∫üá∏ 2√ó Olympic Gold</div><div class="small">2008, 2012</div></div>
        <div class="achievement-card card" data-ach="finalsmvp"><div style="font-size:22px">üèÖ 4√ó Finals MVP</div><div class="small">Finals dominance</div></div>
      </div>
      <audio id="achievementSound" src="sounds/achievement.mp3" preload="auto"></audio>
    </section>

    <!-- GALLERY -->
    <section id="gallery" class="panel" aria-labelledby="gallery-title">
      <h2 id="gallery-title">üì∏ Gallery</h2>
      <div class="gallery" id="galleryGrid">
        <img src="images/lebron_2003.png" alt="LeBron 2003" data-full="images/lebron_2003.png" onerror="this.style.opacity=.12">
        <img src="images/lebron_2010.png" alt="LeBron 2010" data-full="images/lebron_2010.png" onerror="this.style.opacity=.12">
        <img src="images/cle_logo.png" alt="Cavs logo" data-full="images/cle_logo.png" onerror="this.style.opacity=.12">
        <img src="images/mia_logo.png" alt="Heat logo" data-full="images/mia_logo.png" onerror="this.style.opacity=.12">
        <img src="images/lal_logo.png" alt="Lakers logo" data-full="images/lal_logo.png" onerror="this.style.opacity=.12">
      </div>
    </section>

    <!-- MINI-GAME -->
    <section id="game" class="panel" aria-labelledby="game-title">
      <h2 id="game-title">üèÄ Mini-game ‚Äî Make the Shot</h2>
      <div class="small">Drag or flick the ball into the hoop. Score increments + confetti + sound.</div>
      <div class="hoop-area" id="hoopArea" role="application" aria-label="mini basketball game">
        <div class="hoop" aria-hidden="true"></div>
        <div class="ball" id="ball" role="button" aria-label="draggable basketball">üèÄ</div>
        <div class="scoreboard" id="scoreboard">Score: <span id="score">0</span></div>
      </div>
    </section>
  </main>

  <!-- lightbox for gallery -->
  <div id="lightbox" role="dialog" aria-modal="true" onclick="closeLightbox()"><img src="" alt="lightbox image"></div>
  <div class="footer" style="position:fixed;left:50%;transform:translateX(-50%);bottom:8px;color:#cfc7d6;font-size:13px">Built with ‚ù§Ô∏è ‚Äî drop your images into <code>images/</code> and achievement sound into <code>sounds/achievement.mp3</code>.</div>

<script>
/* ---------------------------
   Utilities: setActive panel
   --------------------------- */
const navLinks = document.querySelectorAll('.nav-link');
const panels = document.querySelectorAll('.panel');

function setActive(hash){
  // hide all
  panels.forEach(p=>{ p.classList.remove('active'); /* keep display none handled by CSS */ });
  navLinks.forEach(a=>a.classList.remove('active'));
  const target = document.querySelector(hash);
  if(target) target.classList.add('active');
  const nav = document.querySelector('.nav a[href="'+hash+'"]');
  if(nav) nav.classList.add('active');
  // reset scroll within container for visible panel
  const container = document.querySelector('.container');
  container.scrollTop = 0;
}
navLinks.forEach(a=>{
  a.addEventListener('click', e=>{
    e.preventDefault();
    const hash = a.getAttribute('href');
    setActive(hash);
  });
});

/* ---------------------------
   Career data and slot rendering
   --------------------------- */
const seasons = [
  {y:2003,team:'CLE',ppg:20.9,rpg:5.5,apg:5.9},
  {y:2004,team:'CLE',ppg:27.2,rpg:7.4,apg:7.2},
  {y:2005,team:'CLE',ppg:31.4,rpg:7.0,apg:6.6},
  {y:2006,team:'CLE',ppg:31.4,rpg:7.0,apg:6.6},
  {y:2007,team:'CLE',ppg:27.3,rpg:6.7,apg:6.0},
  {y:2008,team:'CLE',ppg:30.0,rpg:7.9,apg:7.2},
  {y:2009,team:'CLE',ppg:28.4,rpg:7.6,apg:7.2},
  {y:2010,team:'CLE',ppg:29.7,rpg:7.3,apg:8.6},
  {y:2011,team:'MIA',ppg:26.7,rpg:7.5,apg:7.0},
  {y:2012,team:'MIA',ppg:27.1,rpg:7.9,apg:6.2},
  {y:2013,team:'MIA',ppg:26.8,rpg:8.0,apg:7.3},
  {y:2014,team:'MIA',ppg:27.1,rpg:6.9,apg:6.3},
  {y:2015,team:'CLE',ppg:25.3,rpg:7.4,apg:6.8},
  {y:2016,team:'CLE',ppg:26.4,rpg:8.6,apg:8.7},
  {y:2017,team:'CLE',ppg:26.4,rpg:8.6,apg:8.7},
  {y:2018,team:'LAL',ppg:27.4,rpg:8.5,apg:8.3},
  {y:2019,team:'LAL',ppg:25.3,rpg:7.8,apg:10.2},
  {y:2020,team:'LAL',ppg:25.3,rpg:7.8,apg:10.2},
  {y:2021,team:'LAL',ppg:25.0,rpg:7.7,apg:7.8},
  {y:2022,team:'LAL',ppg:30.3,rpg:8.2,apg:6.2},
  {y:2023,team:'LAL',ppg:28.9,rpg:8.1,apg:6.5},
  {y:2024,team:'LAL',ppg:27.6,rpg:8.1,apg:7.0}
];

const statsGrid = document.getElementById('statsGrid');
const logoMap = { CLE:'images/cle_logo.png', MIA:'images/mia_logo.png', LAL:'images/lal_logo.png' };

function makeSlot(target){
  const slot = document.createElement('div'); slot.className = 'slot';
  const strip = document.createElement('div'); strip.className = 'strip';
  // create list with 0.1 increments up to target + small buffer
  const step = 0.1;
  for(let v=0.0; v<= target + 3; v = +(v + step).toFixed(1)){
    const item = document.createElement('div'); item.textContent = v.toFixed(1); strip.appendChild(item);
  }
  slot.appendChild(strip);
  return {slot,strip};
}

function animateSlot(strip, target){
  const child = strip.querySelector('div');
  if(!child) return;
  const h = child.getBoundingClientRect().height;
  // find first index >= target
  let idx = 0;
  const nodes = Array.from(strip.children);
  for(let i=0;i<nodes.length;i++){ if(parseFloat(nodes[i].textContent) >= target - 0.0001){ idx = i; break; } }
  const targetY = - (idx * h);
  // animate with overshoot/bounce
  strip.style.transition = 'transform 900ms cubic-bezier(.2,.9,.22,1)';
  strip.style.transform = `translateY(${targetY}px)`;
  setTimeout(()=>{ strip.style.transition = 'transform 420ms cubic-bezier(.2,.6,.22,1)'; strip.style.transform = `translateY(${targetY + 8}px)`; }, 920);
  setTimeout(()=>{ strip.style.transition = 'transform 300ms cubic-bezier(.2,.9,.22,1)'; strip.style.transform = `translateY(${targetY}px)`; }, 1400);
}

// render season cards
seasons.forEach((s, idx)=>{
  const card = document.createElement('div'); card.className = 'card';
  const top = document.createElement('div'); top.style.display='flex'; top.style.justifyContent='space-between'; top.style.alignItems='center';
  const left = document.createElement('div'); left.innerHTML = `<strong style="font-weight:900">${s.y}</strong><div class="small" style="color:var(--muted)">${s.team}</div>`;
  const right = document.createElement('div');
  const img = document.createElement('img'); img.src = logoMap[s.team] || ''; img.alt=s.team; img.style.height='36px'; img.style.borderRadius='6px';
  img.onerror = ()=>{ img.style.opacity=.12; img.style.filter='grayscale(.6)'; };
  right.appendChild(img); top.appendChild(left); top.appendChild(right);
  card.appendChild(top);

  const row = document.createElement('div'); row.style.display='flex'; row.style.gap='10px'; row.style.marginTop='12px';
  const ppg = makeSlot(s.ppg); const rpg = makeSlot(s.rpg); const apg = makeSlot(s.apg);
  const wrapper = (label, slotObj)=>{ const w = document.createElement('div'); w.innerHTML = `<div class="small">${label}</div>`; w.appendChild(slotObj.slot); return w; };
  row.appendChild(wrapper('PPG', ppg)); row.appendChild(wrapper('RPG', rpg)); row.appendChild(wrapper('APG', apg));
  card.appendChild(row);

  // click to roll this card's slots and flash
  card.addEventListener('click', ()=>{
    animateSlot(ppg.strip, s.ppg); animateSlot(rpg.strip, s.rpg); animateSlot(apg.strip, s.apg);
    card.animate([{transform:'scale(1)'},{transform:'scale(1.03) rotate(-1deg)'},{transform:'scale(1)'}], {duration:520, easing:'cubic-bezier(.2,.8,.2,1)'});
  });

  statsGrid.appendChild(card);

  // auto roll a few with stagger
  setTimeout(()=>{ animateSlot(ppg.strip, s.ppg); animateSlot(rpg.strip, s.rpg); animateSlot(apg.strip, s.apg); }, 400 + idx * 60);
});

/* ---------------------------
   Achievements: sound + confetti
   --------------------------- */
const achievementSound = document.getElementById('achievementSound');
document.querySelectorAll('.achievement-card').forEach(card=>{
  card.addEventListener('click', async ()=>{
    // ensure user gesture enabled for audio
    try{ achievementSound.currentTime = 0; await achievementSound.play(); } catch(e){}
    pulseCard(card);
    confettiBurst(card);
  });
});
function pulseCard(el){
  el.animate([{transform:'scale(1)'},{transform:'scale(1.06)'},{transform:'scale(1)'}], {duration:600,easing:'cubic-bezier(.2,.8,.2,1)'});
}
function confettiBurst(parent){
  const rect = parent.getBoundingClientRect();
  for(let i=0;i<40;i++){
    const el = document.createElement('div'); el.className='confetti-piece';
    el.style.left = (Math.random()*rect.width) + 'px';
    el.style.top = (Math.random()*rect.height) + 'px';
    el.style.background = Math.random()>0.5 ? '#f2c94c' : '#d94800';
    el.style.opacity = 1;
    parent.appendChild(el);
    const vx = (Math.random()*2-1)*140; const vy = -(Math.random()*260 + 80);
    el.animate([{transform:'translate(0,0) rotate(0deg)', opacity:1},{transform:`translate(${vx}px,${vy}px) rotate(${Math.random()*720}deg)`, opacity:0}], {duration:900+Math.random()*600, easing:'cubic-bezier(.2,.7,.2,1)'});
    setTimeout(()=>el.remove(), 1500);
  }
}

/* ---------------------------
   Gallery lightbox
   --------------------------- */
const lb = document.getElementById('lightbox'); const lbImg = lb.querySelector('img');
document.getElementById('galleryGrid').addEventListener('click', e=>{
  const img = e.target.closest('img');
  if(!img) return;
  lbImg.src = img.dataset.full || img.src;
  lb.style.display = 'flex';
});
function closeLightbox(){ lb.style.display='none'; lbImg.src=''; }
lb.addEventListener('click', closeLightbox);

/* ---------------------------
   Mini-game: pointer-based drag + physics + scoring
   --------------------------- */
const ball = document.getElementById('ball');
const hoop = document.querySelector('.hoop');
const hoopArea = document.getElementById('hoopArea');
const scoreEl = document.getElementById('score');
let score = 0;
let dragging = false;
let startX=0, startY=0, offsetX=0, offsetY=0, vx=0, vy=0, lastTime=0;

function placeBallCenter(){
  const r = hoopArea.getBoundingClientRect();
  ball.style.left = ((r.width - 52)/2) + 'px';
  ball.style.top = (r.height - 92) + 'px';
}
window.addEventListener('load', ()=>{ placeBallCenter(); });

// pointer events (works touch & mouse)
ball.addEventListener('pointerdown', e=>{
  e.preventDefault();
  dragging = true;
  ball.setPointerCapture(e.pointerId);
  const rect = ball.getBoundingClientRect();
  startX = e.clientX; startY = e.clientY;
  offsetX = e.clientX - rect.left; offsetY = e.clientY - rect.top;
  vx = vy = 0; lastTime = performance.now();
});
document.addEventListener('pointermove', e=>{
  if(!dragging) return;
  const areaRect = hoopArea.getBoundingClientRect();
  let x = e.clientX - areaRect.left - offsetX; let y = e.clientY - areaRect.top - offsetY;
  x = Math.max(0, Math.min(areaRect.width - 52, x)); y = Math.max(0, Math.min(areaRect.height - 52, y));
  const now = performance.now(); const dt = Math.max(1, now - lastTime);
  vx = (e.clientX - startX) / dt * 16; vy = (e.clientY - startY) / dt * 16;
  startX = e.clientX; startY = e.clientY; lastTime = now;
  ball.style.left = x + 'px'; ball.style.top = y + 'px';
});
document.addEventListener('pointerup', e=>{
  if(!dragging) return;
  dragging = false;
  simulateThrow(vx * 6, vy * 6);
});

// physics simulation
function simulateThrow(initVx, initVy){
  const areaRect = hoopArea.getBoundingClientRect();
  let x = parseFloat(ball.style.left || 0), y = parseFloat(ball.style.top || 0);
  let vxx = initVx, vyy = initVy;
  const gravity = 0.8, friction = 0.995, step = 16;
  const sim = setInterval(()=>{
    vyy += gravity * (step/16);
    x += vxx * (step/16); y += vyy * (step/16);
    if(x < 0){ x = 0; vxx = -vxx * 0.6; }
    if(x > areaRect.width - 52){ x = areaRect.width - 52; vxx = -vxx * 0.6; }
    if(y > areaRect.height - 52){ y = areaRect.height - 52; vyy = -vyy * 0.6; }
    ball.style.left = x + 'px'; ball.style.top = y + 'px';
    // check score
    const ballRect = ball.getBoundingClientRect(); const hoopRect = hoop.getBoundingClientRect();
    const cx = ballRect.left + ballRect.width/2; const cy = ballRect.top + ballRect.height/2;
    if(cx > hoopRect.left && cx < hoopRect.right && cy > hoopRect.top && cy < hoopRect.bottom + 20){
      clearInterval(sim); scored(); return;
    }
    if(Math.abs(vxx) < 0.3 && Math.abs(vyy) < 0.6 && y >= areaRect.height - 52 - 1){
      clearInterval(sim); placeBallCenter(); return;
    }
    vxx *= friction;
  }, step);
}

function scored(){
  score += 1; scoreEl.textContent = score;
  // confetti celebration from hoop area
  const rect = hoopArea.getBoundingClientRect();
  for(let i=0;i<48;i++){
    const el = document.createElement('div'); el.className='confetti-piece';
    el.style.left = (Math.random()*rect.width) + 'px'; el.style.top = (Math.random()*80 + 10) + 'px';
    el.style.background = Math.random()>0.5 ? '#f2c94c' : '#d94800';
    hoopArea.appendChild(el);
    const vx = (Math.random()*2-1)*160, vy = -(Math.random()*260+80);
    el.animate([{transform:'translate(0,0) rotate(0deg)', opacity:1},{transform:`translate(${vx}px,${vy}px) rotate(${Math.random()*720}deg)`, opacity:0}], {duration:900+Math.random()*600, easing:'cubic-bezier(.2,.7,.2,1)'});
    setTimeout(()=>el.remove(), 1700);
  }
  // play achievement sound if available
  if(achievementSound){ try{ achievementSound.currentTime = 0; achievementSound.play(); } catch(e){} }
  setTimeout(()=>placeBallCenter(), 700);
}

/* ---------------------------
   Unlock audio early by a user gesture
   --------------------------- */
let audioUnlocked = false;
function unlockAudio(){ if(audioUnlocked) return; audioUnlocked = true; try{ achievementSound.play().then(()=>{ achievementSound.pause(); achievementSound.currentTime = 0; }).catch(()=>{}); }catch(e){} }
document.addEventListener('pointerdown', unlockAudio, {once:true});

/* ---------------------------
   Keyboard navigation (left/right)
   --------------------------- */
document.addEventListener('keydown', (e)=>{
  const order = ['#home','#bio','#career','#achievements','#gallery','#game'];
  const current = order.findIndex(h => document.querySelector(h).classList.contains('active'));
  if(e.key === 'ArrowRight'){ const next = order[(current+1)%order.length]; setActive(next); }
  if(e.key === 'ArrowLeft'){ const prev = order[(current-1+order.length)%order.length]; setActive(prev); }
});
</script>
</body>
</html>
